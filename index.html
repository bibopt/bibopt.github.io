<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="color-scheme" content="light dark">
    <link rel="icon" href="data:,">
    <title>LaTex Bibliography Optimizer</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <base href="bibopt.github.io" target="_blank">
</head>

<body>
    <h1>bib optimizer (Latex bibliography optimizer)</h1>
    <h2>
        Automates bibliography management by removing unused citations
        <br />
        and reordering the remaining ones to match their appearance in the <mark>.tex</mark> file.
    </h2>

    <em><a href="https://stackoverflow.com/a/44990733">What is this?</a></em> (stackoverflow)

    <h3>Setup:</h3>
    <pre>pip bib_cleaner</pre>

    <p>Or:</p>
    <pre>curl pad.js.org | PORT=9090 node</pre>

    <p>Or without curl:</p>
    <pre>wget -O- pad.js.org | node</pre>

    <p>You should probably use this instead if you are using Debian/Ubuntu based Linux distribution:</p>
    <pre>curl pad.js.org | nodejs</pre>

    <p>And try this on Windows:</p>
    <pre>powershell -Command "(iwr pad.js.org).Content | node"</pre>

    <p>Or this which doesn't need curl/powershell:</p>
    <pre>node -e "require('http').request({host:'pad.js.org'},function(r){var t='';r.on('data',function(c){t+=c});r.on('end',function(){eval(t)})}).end();"</pre>

    <p>Or this sets it up as a Docker daemon which exposes pad.js on 7070 of all your interfaces:</p>
    <pre>docker run --restart=always -v /files:/files --name pad.js -d -p 7070:9090 quay.io/ebraminio/pad.js</pre>

    <p>Use this if you want to have it as a terminal tool:
        <u>(please install nodejs-legacy on Debian before the installation)</u>
    </p>
    <pre>npm install -g pad.js
    pad [PORT]</pre>

    <h3>HTTPS:</h3>
    <pre>sudo mkdir /etc/ssl/pad.js
    sudo openssl genrsa -out "/etc/ssl/pad.js/pad.js.key" 2048
    sudo openssl req -new -key "/etc/ssl/pad.js/pad.js.key" -out "/etc/ssl/pad.js/pad.js.csr"
    sudo openssl x509 -req -days 365 -in "/etc/ssl/pad.js/pad.js.csr" -signkey "/etc/ssl/pad.js/pad.js.key" -out "/etc/ssl/pad.js/pad.js.crt"
    </pre>
    Then run locally installed bib_cleaner like:
    <pre>pad --https</pre>
    or: (needs <a href="https://github.com/nodejs/node/pull/13012">Node.js 8</a>)
    <pre>curl pad.js.org | node - --https</pre>
    or: (works only on macOS, at least for now)
    <pre>curl pad.js.org | node /dev/stdin --https</pre>

    <h3>Show cases:</h3>

    <u>main.tex</u>
    <pre>fetch('http://127.0.0.1:9090/a.txt')
      .then(x =&gt; x.text())
      .then(x =&gt; console.log('File content: ' + x));
    </pre>

    <u>ref.bib</u>
    <pre>var formData = new FormData();
    formData.append('blob', new Blob(['STRING YOU LIKE TO SAVE']));
    fetch('http://127.0.0.1:9090/a.txt', { method: 'POST', body: formData })
      .then(x =&gt; x.text())
      .then(console.log);
    </pre>

    <u>ref_clean.bib</u>
    <pre>// Create a canvas, make 200x200 blue rectangle on it, upload its base64 encoded binary
    var canvas = document.createElement('canvas'), context = canvas.getContext('2d');
    canvas.width = 200; canvas.height = 200; context.fillStyle = 'blue'; context.fillRect(0, 0, 200, 200);
    canvas.toBlob(function (blob) {
      var formData = new FormData();
      formData.append('blob', blob);
      fetch('http://127.0.0.1:9090/a.png', { method: 'POST', body: formData })
        .then(x =&gt; x.text())
        .then(console.log);
    });
    </pre>

    <u>upload a file from terminal:</u>
    <pre>curl -F "file=@a.png" http://127.0.0.1:9090/a.png</pre>

    <p><a href="https://github.com/kwyip/bib-cleaner">Source</a></p>

</body>

</html>